Content

[[_TOC_]]

`Available for review`
# Creation of Sales Invoice  
A Sales Invoice is generated by multiple methods based on delivery method & location of available stock of the items.    
Sales Invoice can be created without any reference to Sales Order or by converting the available Sales Order. Ready stock Sales invoice are created at retailer where Sales team directly visit retailer with stocks available with them, normally they carry stock in Van, this also referred as Van Sales Invoice. Counter Sales Invoice are created for direct end customer at distributor location.  

## Precondition for creating Sales Invoice
Before creating a direct sales invoice, you need to 
* Create [Customer](Customer)
* Create [Item](Product) details & have stock in hand 
* Create [Beat](Beat) & [Salesman](Salesman)

Creation of Sales invoice vary based on type of creation. 

## To create Sales Invoice

1. **Invoice Date** is often set to default current date
   - There are options to allow backdated invoice but date after present date are restricted. 

2. **In the Customer field**, enter the name of an existing customer. 
   - Sales Invoice are created to document the sale of goods to customer. 
   - After Customer selection, Customer related information are pre-populated as below,  
     - default [Beat](Beat), 
     - default [Salesman](Salesman), 
     - default Customer [Payment Mode](Payment Mode), 
     - default Customer [Credit Term](Credit Term), 
     - default [Customer Shipping address](Customer) & 
     - default [Customer Billing address](Customer) are loaded.

> Further, these details are allowed to be modified as necessary.  

3. **Select a [Beat](Beat)** related to the selected Customer 
    - Multiple beats are loaded when the Customer is associated with multiple Beat

4. **Select a [Salesman](Salesman)** related to the selected Customer 
    - Multiple Salesman are listed based on the Customer associated with multiple Beat. 

5. **Select a Payment Mode** appropriately
6. **Select a Credit Term** if Payment Mode is credit.  

7. Stock **Location**
    - default distributor Godown/Van loaded depending on type of invoice
    - user can select appropriately, if there are multiple values in list.     

8. **[Transaction Series](Transaction Series)**
    - default Sales Invoice Transaction Series are loaded, User can change these details as necessary. 

9. **Customer Shipping address** 
    - default Shipping address loaded, User can change these details as necessary. 

10. **Customer Billing address** 
    - default Billing address loaded, User can change these details as necessary. 

11. Fill in or Modify the remaining fields on the Sales Invoice page as necessary.
    - Reference number Manual
    - Reference number Additional
    - Secondary Transaction series 
    - Remark 
    - Reason  
    - Description
    - Terms and Conditions
    - Vehicle number 
    - Referred by
    - Salesman Category Group 
    - Product Category Group (based on Salesman Category Group)
    - Delivery date
    - Tax Form 

> _These are the header details requires for creation of any Sales Invoice._
> _You are now ready to fill in the Sales Invoice lines for products that you are selling to the Customer._

## Addition of line level details
12. **Select a [Product](Product)** from list of eligible product for sales. 
    - After selection of line level [Product](Product), related information are pre-populated  
      - Batch details from current stock of [Distributor](Distributor)
      - Price to customer [PTR](#rate-calculation)
      - [Available Stock Quantity](Stock & Inventory) 
      - Sales [UOM](Unit of Measurement) 
      - [Applicable Tax](#rate-calculation) 

13. **Provide the sales quantity**
    - After providing the sales quantity, 
      - The value in the Line Amount field is calculated as Unit Price x Quantity. 
      - [Applies Tax](#tax) based on predefined [Tax Master](Tax Master) settings
      - Line level [Net Amount](Sales Invoice Calculation) is calculated. 

14. Fill in the **Discount** as necessary, to re-compute Tax amount & Net amount.
    - Amount Discount 
    - Percentage Discount 
    - Discount Per UOM
    - Manual Free Item  

15. **[Scheme defined](Scheme Master)** for item are applied as per configuration. 
    - any Scheme discount applied will re-compute the Tax amount & Net amount. 
    - Scheme product free are loaded based as per scheme.   
    - [Scheme applied](#scheme) at line level and overall document level. 

16. **Net amount** is computed after discount, Scheme discount & Tax related impact. 
    - _refer [Sales Invoice calculation logic](#rate-calculation)_

17. _Repeat **Addition of line level details** Step for adding more lines of item._ 

## Invoice Discount & Adjustments 

18. **Invoice level discount** can be provided to re-compute final [Invoice Amount](#rate-calculation)
    - Amount Discount 
    - Percentage Discount 
    - Discount Per UOM
    - Invoice Level Scheme Discount

19. **Adjustment** 
    - User can Manual adjust or Auto adjust the available open [Credit Note document](Credit Note) of the selected customer. 
    - These Adjustments are posted as implicit [Collection](Collection), these adjustment amount will not reduce the invoice net amount, it has impact in invoice outstanding amount. 

20. **Save Sales Invoice** 
On Saving of the Sales Invoice document, 
    - Document of sales is recorded with generation of unique Sales Invoice Transaction number for a Distributor. 
    - Line Item & quantity of details provided are reduced from the [current stock](Stock & Inventory) of the selected stock location. 
    - (Adjustment & Outstanding)(Sales Invoice Adjustment Logic) details are posted as implicit [Collection](Collection) to the selected customer. Credit note documents are adjusted as require. 
    - reference transactions are updated like Sales order status update based on fulfillment. Customer outstanding modified. Customer Master update for address change. These are part of workflow as per configuration.  
    - Off take scheme benefit applied are accounted and updated. 
    - Report data consolidation initiated for relevant data points. 
    - Sales Invoice is ready to [Print](Sales Invoice Print)
    - Invoice delivery process to be initiated for the prepared invoice. 

## Cancellation 
Cancellation of Sales Invoice are action performed on un-deliverable sales invoice after preparation of Sales Invoice. The reason may vary like "Wrongly created invoice", "Delivery failure", "Not accepted during delivery" ..etc. Cancelled invoice are not referred in any further transaction like adjustment or collections. Cancelled invoice are considered as valid document and used in all report.  

Cancellation of Sales invoice are restricted based on configuration & workflow, few points as below. 

  - Business level restriction may vary based on configuration.  
    - Delivered Sales invoice are not allowed to cancel, instead sales return to be performed to maintain the logical accounting transactions. 

  - Data integrity related restrictions
    - Validation fails, if the stock impact update creates negative stock scenario. 
    - Validation fails if the customer outstanding update creates negative value scenario. 
    - Validation fails if the implicitly created collection and related adjustment creates negative value scenario.
    - Deactivated master reference like customer, product, distributor, beat, salesman ..etc. will have impact to fail the cancellations. 

On Cancel of Sales Invoice document, 
  - Document marked for status change to indicate cancellation. 
  - Stock impact reversed by adding stock to the current state of outstanding. 
  - Customer outstanding reversed by reducing the cancelled invoice value.  
  - Cancellation action on implicitly created collection is performed and Adjusted documents are reversed to current state to reflect current pending of the respective document.  
  - Off take scheme balance reversed. 
  - Cancelled invoice are considered as valid document and used in all tax report.
  - Report related Sales data recomputed. 

## Amendment 
Amendment to Sales invoice are corrections to the prepared sales invoice. 
Amendment is not editing in record, the amended document is referred as valid document with status amended. 

Amendment performs validation and two primary actions as below, 
  - Cancel the old document of sales invoice by executing all cancellation action as mentioned in [Sales Invoice cancellation section](#cancellation) 

  - Amendment of sales invoice are restricted to Business level restriction & Data integrity related restriction as mentioned in [cancellation](#cancellation) section. 

  - Further, Modification of key parameters are not allowed like Customer, Salesman, Beat.  

  - A new Sales invoice created with Sales invoice transaction number of old document. all action performed during sales invoice save are applicable for the newly created sales invoice document. 

# Types of Sales Invoice
- Godown Sales Invoice
  - [Sales Invoice Direct](Sales-Invoice-Creation#sales-invoice-direct) without Sales Order reference 
  - [Sales Invoice by converting Sales order](Sales-Invoice-Creation#create-sales-invoice-by-converting-sales-order) 
  - [Counter Sales Invoice](Sales-Invoice-Creation#sales-invoice-counter)
- [Ready Sales Invoice](Sales-Invoice-Creation#sales-invoice-van) 

## Sales Invoice-Direct
"Sales invoice Direct" created at distributor location, without any reference to Sales order. The reference to the demand by customer are not recorded prior. 

**Key difference from other Sales invoice creation process** 
1. Stock Location will be [Godown](Godown).  
2. User to provide all product related details manually 
3. All other details are as similar as explained in [create](Sales-Invoice-Creation#to-create-sales-invoice). 

## Create Sales Invoice by converting Sales Order 
Sales Order are recorded by Salesman during market visit to record the demand and sales of the products. A [Sales Order](Sales Order) records the customer's intent to buy the listed products at the stated price. 

User can choice the open sales orders to convert it into Sales invoice. Sales Order to Sales Invoice conversion can be achieved in various options, as mentioned below.  
   1. Single Order conversion to Single [Sales Invoice](Sales Invoice)
   2. Bulk Order Processing with user input to confirm each [Sales Invoice](Sales Invoice)
   3. Bulk Order Processing to auto create [Sales Invoice](Sales Invoice)

[Customer](Customer), [Salesman](Salesman), [Beat](Beat) and Item information are pre-loaded (pre-fetched from Sales Order) to create the invoice during conversion using Option 1 & 2.

Option 3, is auto processed to create Sales Invoice. 

**Key difference from other Sales invoice creation process** 
1. All Mandatory data are pre populated based on Sales Order. 
2. During business validations, Decision to skip or continue are decided based on configuration to minimize manual intervention. 
3. During Sales Invoice save process, the reference Sales order will be closed or partially closes based on fulfillment. 
4. After Sales Invoice creation, delivery process to be initiated. 
5. _All other information are similar as described in create section. _

## Sales Invoice Van
Ready stock sales is referred as Van sales, Salesman travels along with Vehicle loaded with enough stock. At Retailer location, based on the market need Sales invoice created and Products are delivered immediately.

**Key difference from other Sales invoice creation process** 
1. Stock Location will be [Van](Van).  
2. User to provide all product related details manually 
3. All other details are as similar. 

## Sales Invoice Counter 
Counter Sales Invoice is commonly used in "POS" - Point of Sales, where seller sales to [End consumer](Customer Type) 

Counter Sales Invoice is applicable for [Cash Customers](Customer Types) only. Counter Sales Invoices are created using [Counter SalesMan](SalesMan) & [Counter Beat](Beat). The [pricing logic](Sales Invoice Pricing Logic), [discounts](Sales Invoice Discount Logic) and [schemes](Sales Invoice Scheme Logic) are different for counter sales.

Customer & Customer details are optional & non mandatory in Counter Sales Invoice. Additionally, new customers can be created on the fly and the customer details can be captured before creating the invoice. 

**Key difference from other Sales invoice creation process** 
1. Stock Location will be [Godown](Godown).  
2. Only Counter sales related customer, beat, salesman are listed for customer selection. Additionally walk-in customer details can be added. 
3. Payment mode will be cash. 
4. Price of product are MRP / ECP value of the selected batch. Further, Sales Price will be based on Pricing logic as explained in [Rate Calculation](#rate-calculation)  
5. User to provide all product related details manually 
6. All other details are as similar as explained in [create](Sales-Invoice-Creation#to-create-sales-invoice). 

# Sales Invoice Configuration 
This page list all direct configuration applicable for Sales Invoice & related other module configuration which impacts Sales Invoice. 

> Other common configuration such as User profile based configuration, Field level configurations, Menu configurations are assumed to be as applicable similar to other modules in application. Refer [Common Application Configurations](Common Application Configurations) 

 
## Application level Configuration  

### Sales Invoice Module Configuration
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Add new item detail Converting SO to SI| |If enabled, new line item is allowed on so to si,If not, allow only line item from so to si| [FD-Conf-MAS-SI-0001](Sales Invoice Creation#FD-Conf-MAS-SI-0001)|
|Disable Beat refresh post selecting customer in SO and SI Screen| |If enabled beat will not be re-loaded after customer selection,If not, beat will be re-loaded even after customer selection| [FD-Conf-MAS-SI-0002](Sales Invoice Creation#FD-Conf-MAS-SI-0002)|
|Allow GSTIN Threshold Limit Validation| |If enabled, threshold limit is validation,If not, is not be considered for validation| [FD-Conf-MAS-SI-0003](Sales Invoice Creation#FD-Conf-MAS-SI-0003)|
|How many invoices are allowed for unapproved customers| | Set limit count to allow invoice for unapproved customer,If not, invoice not allowed| [FD-Conf-MAS-SI-0004](Sales Invoice Creation#FD-Conf-MAS-SI-0004)|
|Allow receive sales invoice is made against credit norms| |If enabled, days exceed againt credit norm invoice will be received,If not, days exceed againt credit norm invoice will not be received| [FD-Conf-MAS-SI-0005](Sales Invoice Creation#FD-Conf-MAS-SI-0005)|
|Allow selection of Referral details if the sales invoice is made against end consumer| |If enabled, if the ref type is end consumer, will be allowed to select ref details., If not, field will be disabled| [FD-Conf-MAS-SI-0006](Sales Invoice Creation#FD-Conf-MAS-SI-0006)|
|Allow invoice from unapproved customers in the status of| | Selected staus of invoice are allowed for the unapproved customer| [FD-Conf-MAS-SI-0007](Sales Invoice Creation#FD-Conf-MAS-SI-0007)|
|SO & SI Custome Max Limit Cash Discount| |If enabled the limit of max discount is validated,If not, is not considered on validation| [FD-Conf-MAS-SI-0008](Sales Invoice Creation#FD-Conf-MAS-SI-0008)|
|Within How Many Days Invoice Can Be Cancel| |Set limit days on invoice to be cancelled| [FD-Conf-MAS-SI-0009](Sales Invoice Creation#FD-Conf-MAS-SI-0009)|
|Delivery date based on SI date / LR date| |Si date configuration will be based on salesinvoice date| [FD-Conf-MAS-SI-0010](Sales Invoice Creation#FD-Conf-MAS-SI-0010)|
|Password for GSTIN Threshold Limit Violation| |Set password for violation on gstin threshold limit| [FD-Conf-MAS-SI-0011](Sales Invoice Creation#FD-Conf-MAS-SI-0011)|
|Hide Scheme View button| |If enabled, scheme view button is diaabled,If not, button enabled| [FD-Conf-MAS-SI-0012](Sales Invoice Creation#FD-Conf-MAS-SI-0012)|
|Suppress Apply Scheme Button in Sales Invoice| |If enabled, diaabled apply scheme button,If not, enabled button| [FD-Conf-MAS-SI-0013](Sales Invoice Creation#FD-Conf-MAS-SI-0013)|
|Invoice Level discount on Per UOM| |If enabled discount is based on per uom to applicable.,If not, per uom is not applicable| [FD-Conf-MAS-SI-0014](Sales Invoice Creation#FD-Conf-MAS-SI-0014)|
|Invoice print tracking| |If enabled, the print invoices are tracked based on type and user| [FD-Conf-MAS-SI-0015](Sales Invoice Creation#FD-Conf-MAS-SI-0015)|
|Enable NetPTR capping| |If enabled, allow to edit net ptr| [FD-Conf-MAS-SI-0016](Sales Invoice Creation#FD-Conf-MAS-SI-0016)|
|Enable PTR capping| |If enabled, allow to edit ptr| [FD-Conf-MAS-SI-0017](Sales Invoice Creation#FD-Conf-MAS-SI-0017)|
|Get Fixed NetRate from the Base price & Special price settings| |If enabled, display the fixed rate price setting for the line item| [FD-Conf-MAS-SI-0018](Sales Invoice Creation#FD-Conf-MAS-SI-0018)|
|Display out of stock SKUs in the sales invoice| |If enabled, out of stock sku are displayed,If not, sku is not displayed| [FD-Conf-MAS-SI-0019](Sales Invoice Creation#FD-Conf-MAS-SI-0019)|
|Show Net Rate in Sales Invoice View| |If enabled net rated to be displayed on invoice view,,If not, not displayed| [FD-Conf-MAS-SI-0020](Sales Invoice Creation#FD-Conf-MAS-SI-0020)|
|Enable Distwise Invoice Number| |If enabled the invoice number is updated based on datewise| [FD-Conf-MAS-SI-0021](Sales Invoice Creation#FD-Conf-MAS-SI-0021)|
|Secondary transaction number required| |If enabled, consider the secondary transaction number| [FD-Conf-MAS-SI-0022](Sales Invoice Creation#FD-Conf-MAS-SI-0022)|
|Select true for warning SI day close back dated configuration.| |If enabled, allow only create back dated transaction, display alert| [FD-Conf-MAS-SI-0023](Sales Invoice Creation#FD-Conf-MAS-SI-0023)|
|Line Item Level discount on Per UOM| |If enable, line item discont is considered on per UOM| [FD-Conf-MAS-SI-0024](Sales Invoice Creation#FD-Conf-MAS-SI-0024)|
|Net Amount Editable| |If enabled net amount field is editable| [FD-Conf-MAS-SI-0025](Sales Invoice Creation#FD-Conf-MAS-SI-0025)|
|Net Rate Editable| |If enabled net rate field is editable| [FD-Conf-MAS-SI-0026](Sales Invoice Creation#FD-Conf-MAS-SI-0026)|
|Payment Date based on SI date / Delivery date| | Si / deliver date config is to be configured as payment date| [FD-Conf-MAS-SI-0027](Sales Invoice Creation#FD-Conf-MAS-SI-0027)|
|Apply manual discounts on the Original Amount(Quantity X Rate)| |If enabled the manual discount to be considerd on amount of quantity| [FD-Conf-MAS-SI-0028](Sales Invoice Creation#FD-Conf-MAS-SI-0028)|
|Back dated limit| |Set limit to calcualte the back date from current date| [FD-Conf-MAS-SI-0029](Sales Invoice Creation#FD-Conf-MAS-SI-0029)|
|Delete scheme free product| |If enabled the free product for the scheme are diabled| [FD-Conf-MAS-SI-0030](Sales Invoice Creation#FD-Conf-MAS-SI-0030)|
|Enable option to issue free product manually| |If enabled the option to issue free product is available| [FD-Conf-MAS-SI-0031](Sales Invoice Creation#FD-Conf-MAS-SI-0031)|
|Hide 'No Schemes to Apply' Message - if no schemes are applicable| |If enabled the msg is displayed if no scheme to apply| [FD-Conf-MAS-SI-0032](Sales Invoice Creation#FD-Conf-MAS-SI-0032)|
|Hide Shipping & Handling Charges| |If enabled, field will not be shown on invoice screen| [FD-Conf-MAS-SI-0033](Sales Invoice Creation#FD-Conf-MAS-SI-0033)|
|Add new item detail| |If enabled, allow to add new item details on invoice screen| [FD-Conf-MAS-SI-0034](Sales Invoice Creation#FD-Conf-MAS-SI-0034)|
|ADHOC Discount for each item| |If enabled, discount is applied for each item on invoice| [FD-Conf-MAS-SI-0035](Sales Invoice Creation#FD-Conf-MAS-SI-0035)|
|ADHOC Discount for transaction| |If enabled the discount is applicaable for transaction on final amount| [FD-Conf-MAS-SI-0036](Sales Invoice Creation#FD-Conf-MAS-SI-0036)|
|ADHOC Scheme for transaction| |If enabled discount is applicable for final scheme transation details| [FD-Conf-MAS-SI-0037](Sales Invoice Creation#FD-Conf-MAS-SI-0037)|
|Allow selection of vendor| |If enabled , vendor selection is allowed| [FD-Conf-MAS-SI-0038](Sales Invoice Creation#FD-Conf-MAS-SI-0038)|
|Back dated transaction| |If enabled, allow the transaction back date as set Back dated limit| [FD-Conf-MAS-SI-0039](Sales Invoice Creation#FD-Conf-MAS-SI-0039)|
|Billing Address Editable| |If enabled, the field is editabled on screen| [FD-Conf-MAS-SI-0040](Sales Invoice Creation#FD-Conf-MAS-SI-0040)|
|Generate Product Category Group based credit norms violation alert in Sales Invoice| |If enabed, alert is displayed if the product category based on credit norms on invoice| [FD-Conf-MAS-SI-0041](Sales Invoice Creation#FD-Conf-MAS-SI-0041)|
|Treat the selection of product category group as mandatory in sales invoice screen| |If enabled the filed is mandatoy on screen to be selected| [FD-Conf-MAS-SI-0042](Sales Invoice Creation#FD-Conf-MAS-SI-0042)|
|Filter the Product based on Product Properties 1 & 2| |If enabled, the Product Properties 1 & 2 fields are displayed to file=ter the products on invoice screen| [FD-Conf-MAS-SI-0043](Sales Invoice Creation#FD-Conf-MAS-SI-0043)|
|Allow Salesman credit Limit| |If enabled, allow the invoice based on salesman creditlimi on transaction| [FD-Conf-MAS-SI-0044](Sales Invoice Creation#FD-Conf-MAS-SI-0044)|
|Allow selection of products based on category group attachment for Sales Invoice| |If enabled, allow only only product on categiry group to invoice transaction| [FD-Conf-MAS-SI-0045](Sales Invoice Creation#FD-Conf-MAS-SI-0045)|
|Shipping Address Editable| |If enabled, allow the field as editable| [FD-Conf-MAS-SI-0046](Sales Invoice Creation#FD-Conf-MAS-SI-0046)|
|Allow user to invoke customer creation screen from Sales Invoice Screen| |If enabled, allow user to create customer on invoice screen on transaction| [FD-Conf-MAS-SI-0047](Sales Invoice Creation#FD-Conf-MAS-SI-0047)|
|Allow user to pop up Scrap Purchase Screen from Sales Invoice Screen| |If enabled, show the scrap purchase on invoice transaction screen| [FD-Conf-MAS-SI-0048](Sales Invoice Creation#FD-Conf-MAS-SI-0048)|
|Show current stock for items| |If enabled show the current stock for items on the invoice screen| [FD-Conf-MAS-SI-0049](Sales Invoice Creation#FD-Conf-MAS-SI-0049)|
|Back dated within the month| |If enabled, allow the transaction with in back dated duration of limit month| [FD-Conf-MAS-SI-0050](Sales Invoice Creation#FD-Conf-MAS-SI-0050)|
|Sales Invoice Print Formats Display| |Display the sales invocie print format to be displayed option on invoice print screen| [FD-Conf-MAS-SI-0051](Sales Invoice Creation#FD-Conf-MAS-SI-0051)|
|Sales Invoice Default print version| |Set the deffault print version to be handled on invoice print| [FD-Conf-MAS-SI-0052](Sales Invoice Creation#FD-Conf-MAS-SI-0052)|
|Product Price Information Popup is Required| |If enabled, display the product price details on screen| [FD-Conf-MAS-SI-0053](Sales Invoice Creation#FD-Conf-MAS-SI-0053)|
|Enable Save & Continue Option| |If enabled, display option to allow the user to save and continue transaction| [FD-Conf-MAS-SI-0054](Sales Invoice Creation#FD-Conf-MAS-SI-0054)|
|Allow SO to SI editable price as list price| |If enabled allow the user to edit the price on item price details| [FD-Conf-MAS-SI-0055](Sales Invoice Creation#FD-Conf-MAS-SI-0055)|
|Transaction Series Yearly Reset Alert| |If enabled, display the alert is the transaction series is on yearly details alert| [FD-Conf-MAS-SI-0056](Sales Invoice Creation#FD-Conf-MAS-SI-0056)|
|Transaction Series Yearly Reset Date| |Configure the month on yearl to reset the series of transaction| [FD-Conf-MAS-SI-0057](Sales Invoice Creation#FD-Conf-MAS-SI-0057)|
|Enable vehicle number configuration| |If enabled the vechicle number field will be displayed| [FD-Conf-MAS-SI-0058](Sales Invoice Creation#FD-Conf-MAS-SI-0058)|
|In Sales Invoice/Van Sales Invoice/Counter Sales Invoice, Hide Location Type| |Location Type is to be displaye or hide on invoice screen| [FD-Conf-MAS-SI-0059](Sales Invoice Creation#FD-Conf-MAS-SI-0059)|
|Apply Scheme Same as SO| |If enabled the scheme applied on so to be applied on si as same| [FD-Conf-MAS-SI-0060](Sales Invoice Creation#FD-Conf-MAS-SI-0060)|
|Validate Partial tax in Sales Invoice while saving| |If enabled, validate the partial tax on invoince before save| [FD-Conf-MAS-SI-0061](Sales Invoice Creation#FD-Conf-MAS-SI-0061)|
|Alert and stop the user if the edited list price is not between PTS and MRP| |If enabled the price is not between PTS and MRPas user entered will be stoped on transaction| [FD-Conf-MAS-SI-0062](Sales Invoice Creation#FD-Conf-MAS-SI-0062)|
|Disable direct sales invoice creation| |If enabled direction creation of salesinvoice is restricted| [FD-Conf-MAS-SI-0063](Sales Invoice Creation#FD-Conf-MAS-SI-0063)|
|Disable sales invoice draft creation| |If enabled sales invoice draft creation is restricted| [FD-Conf-MAS-SI-0064](Sales Invoice Creation#FD-Conf-MAS-SI-0064)|
|Set the maximum discount % as while performing billing at MRP| |If enabled, Set percentage of discount on billing mrp invoice transaction| [FD-Conf-MAS-SI-0065](Sales Invoice Creation#FD-Conf-MAS-SI-0065)|
|Additional Terms & Conditions| |If enabled display the addition info provide for terms and condition| [FD-Conf-MAS-SI-0066](Sales Invoice Creation#FD-Conf-MAS-SI-0066)|
|Auto Adjust Credit Notes in Sales Invoice while saving| |If enabled, auto adjust is handled based on the request type of invoice (Offtake CRSales Return CRLoyalty points CRManual CRwindow display scheme CR)| [FD-Conf-MAS-SI-0067](Sales Invoice Creation#FD-Conf-MAS-SI-0067)|
|Allow create implicit collection for Cash Payment mode| |If enabled, payment is cash mode, collection is created implicity| [FD-Conf-MAS-SI-0068](Sales Invoice Creation#FD-Conf-MAS-SI-0068)|
|Show UOM based stock and price in batch list| |If enabled the uom stock and price is listed on batch list on transaction| [FD-Conf-MAS-SI-0069](Sales Invoice Creation#FD-Conf-MAS-SI-0069)|
|Show UOM based MRP in batch list| |If enabled uom mrp details will be displayed on battch list details| [FD-Conf-MAS-SI-0070](Sales Invoice Creation#FD-Conf-MAS-SI-0070)|
|Show Display status| |If enabled, the status of the invoice transaction is displayed on screen| [FD-Conf-MAS-SI-0071](Sales Invoice Creation#FD-Conf-MAS-SI-0071)|
|Generate alert message – if no tax is configured for the product| |Set alert type as Alert & Continue == will display alert and continue transaction Alert & Stop == will display alert and stop transaction| [FD-Conf-MAS-SI-0072](Sales Invoice Creation#FD-Conf-MAS-SI-0072)|
|Special Price Setting Round Off Enable| |If enabled, based on the round off range will be calculated SET Special Price Round Off Range| [FD-Conf-MAS-SI-0073](Sales Invoice Creation#FD-Conf-MAS-SI-0073)|
|Don't allow sales invoice| |If enabled, based on the date provided the invoice transaction are restricted on the back dated date| [FD-Conf-MAS-SI-0074](Sales Invoice Creation#FD-Conf-MAS-SI-0074)|



### Counter Sales Configuration
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Enable to provide Counter Sales Customer Information||If enabled, display customer info on transaction screen|[FD-Conf-Countersale-SI-0001](Sales Invoice Creation#FD-Conf-Countersale-SI-0001)|
|Enable List Price Edit in Counter Sales Module||If enable, list price field is editable on invoice screen|[FD-Conf-Countersale-SI-0002](Sales Invoice Creation#FD-Conf-Countersale-SI-0002)|
|Enable Net Rate Edit in Counter Sales Module||If enable, Net Rate field is editable on invoice screen|[FD-Conf-Countersale-SI-0003](Sales Invoice Creation#FD-Conf-Countersale-SI-0003)|
|Enable Net Amount Edit in Counter Sales Module||If enable, Net Amount field is editable on invoice screen|[FD-Conf-Countersale-SI-0004](Sales Invoice Creation#FD-Conf-Countersale-SI-0004)|	
|Alert and stop the user if edited list price is not between PTS and MRP||If enabled, if list price is not between PTS and MRP transaction will not be able to proceed|[FD-Conf-Countersale-SI-0005](Sales Invoice Creation#FD-Conf-Countersale-SI-0005)|
|Enable option to issue free product manually – during counter sales||If enabled, allow product to issue free on invoice screen will be displayed|[FD-Conf-Countersale-SI-0006](Sales Invoice Creation#FD-Conf-Countersale-SI-0006)|
|Alert the user if the TIN Number entered for the walk in customer is available against any of the customer||If enabled, and configured alert&continue == display alert and continue transaction alert&stop == display alert and stop transaction to proceed|[FD-Conf-Countersale-SI-0007](Sales Invoice Creation#FD-Conf-Countersale-SI-0007)|
|Alert the user if the Mobile Number entered for the walk in customer is available against any of the customer||If enabled, and configured alert&continue == display alert and continue transaction alert&stop == display alert and stop transaction to proceed|[FD-Conf-Countersale-SI-0008](Sales Invoice Creation#FD-Conf-Countersale-SI-0008)|
|Allow only Cash Payment mode for counter sales||If enabled, only cash payment mode will be applicable on counter sales|[FD-Conf-Countersale-SI-0009](Sales Invoice Creation#FD-Conf-Countersale-SI-0009)|
|Disable Adjustment in Counter Sales||If enabled, current balance and adjust amount field will be displayed to proceed, amount adjustment on counter sales screen|[FD-Conf-Countersale-SI-0010](Sales Invoice Creation#FD-Conf-Countersale-SI-0010)|

### SI Amendment Configuration
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Schemes has to consider for ||config enable based on invoice date,  sales invoice date will be considered for scheme applicable,config enable based on amend date,sales invoice amend date will be considered for scheme applicable|[FD-Conf-SI-Amend-0001](Sales Invoice Creation#FD-Conf-SI-Amend-0001)|
|Tax has to consider for||config enable based on invoice date,  sales invoice date will be considered for Tax applicable,config enable based on amend date,sales invoice amend date will be considered for Tax applicable|[FD-Conf-SI-Amend-0002](Sales Invoice Creation#FD-Conf-SI-Amend-0002)|
|Pricing has to consider for||config enable based on invoice date,  sales invoice date will be considered for Pricing applicable,config enable based on amend date,sales invoice amend date will be considered for Pricing applicable|[FD-Conf-SI-Amend-0003](Sales Invoice Creation#FD-Conf-SI-Amend-0003)|
|Max no of times can amend||Set limit count for amending sales invoice, not to exceed count on amending sales invoice,If not sales invoice is not able to amendable|[FD-Conf-SI-Amend-0004](Sales Invoice Creation#FD-Conf-SI-Amend-0004)|
|Within how many days invoice can be amendable||Set limit days for amending sales invoice on creation date,If not sales invoice is not able to amendable|[FD-Conf-SI-Amend-0005](Sales Invoice Creation#FD-Conf-SI-Amend-0005)|
|Reason Mandatory for Amendment||Provide reason for amending sales invoice if enabledoptional if not enabled|[FD-Conf-SI-Amend-0006](Sales Invoice Creation#FD-Conf-SI-Amend-0006)|
|Reason Mandatory for Cancellation||Provide reason for cancel sales invoice if enabled,optional if not enabled|[FD-Conf-SI-Amend-0007](Sales Invoice Creation#FD-Conf-SI-Amend-0007)|
|Allow invoice amend based on||Sales invoice date creation with (first or last)|[FD-Conf-SI-Amend-0008](Sales Invoice Creation#FD-Conf-SI-Amend-0008)|
	
### Masters Configuration 
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Alert the user upon clicking on Cancel Button |  | This will alert user with additional popup for cancelling invoices | [FD-Conf-MAS-SI-0001](Sales Invoice Creation#FD-Conf-MAS-SI-0001) |
|Hide the following UOM in transactions |  | This will restrict the UOM's listing on transactions | [FD-Conf-MAS-SI-0002](Sales Invoice Creation#FD-Conf-MAS-SI-0002) |
|Restrict multiple beat mapping for Customer |  | This will restrict to map multiple beat to the customer | [FD-Conf-MAS-SI-0003](Sales Invoice Creation#FD-Conf-MAS-SI-0003) |
|Restrict multiple Salesman mapping for Beat |  | This will restrict to map multiple salesman  to the beat | [FD-Conf-MAS-SI-0004](Sales Invoice Creation#FD-Conf-MAS-SI-0004) |
|Do not allow cross classification Beat Mapping in Salesman & Retailer |  | This will override the Salesman profile selection | [FD-Conf-MAS-SI-0005](Sales Invoice Creation#FD-Conf-MAS-SI-0005) |
|Product with drug flag true are to be listed only for retailer with DL number in customer master |  | Already explained in Sales invoice Product selection | [FD-Conf-MAS-SI-0006](Sales Invoice Creation#FD-Conf-MAS-SI-0006) |
|Allow Send SMS To Customer |  | This will allow to send SMS to customers. | [FD-Conf-MAS-SI-0007](Sales Invoice Creation#FD-Conf-MAS-SI-0007) |
|Validate value level threshold |  | This will allow to validate value level threshold limit to the customer to make further invoices | [FD-Conf-MAS-SI-0008](Sales Invoice Creation#FD-Conf-MAS-SI-0008) |
|Password to allow retailer threshold limit |  | User can set the password to override the threshold validation. | [FD-Conf-MAS-SI-0009](Sales Invoice Creation#FD-Conf-MAS-SI-0009) |
|Action to be taken when "Validate value/volume level threshold" is enabled |  | This will allow for further action if customer reached configured threshold limit.  | [FD-Conf-MAS-SI-0010](Sales Invoice Creation#FD-Conf-MAS-SI-0010) |
|Validate volume level threshold |  | This will allow to validate volume  level threshold limit to the customer to make further invoices | [FD-Conf-MAS-SI-0011](Sales Invoice Creation#FD-Conf-MAS-SI-0011) |



### Customer Master
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Display customer in Transaction with status of  |  | This configuration will allow customers list in sales invoice based on status. | [FD-Conf-RET-0001](Sales Invoice Creation#FD-Conf-RET-0001) |
|Allow unapproved customer in all transactions. |  | This configuration will allow unapproved customers to create sales invoice with limited number of invoices. | [FD-Conf-RET-0002](Sales Invoice Creation#FD-Conf-RET-0002) |



### Salesman Master 
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Salesman classification and Salesman Profile mapping / approval |  | DSR, USR, RSR, VRSR, MER, RSP, -> Based on profile selection mobile integration module will enable and Beat mapping will allow to the users. | [FD-Conf-Salesperson-0009](Sales Invoice Creation#FD-Conf-Salesperson-0009) |



### Configuration by Distributor 
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Allow Invoice if Salesman level credit norm settings are violated |  | When this setting is ON then system allows to continue the sales invoice even if salesman exceeds the credit limit  like credit amount , days, no. of bills | [FD-Conf-SI-DP-0001](Sales Invoice Creation#FD-Conf-SI-DP-0001) |
|Option 1 - Seek password for billing for salesman level Credit Norm Violation | Allow Invoice if Salesman level credit norm settings are violated | Set password to seek while validation is violated. Password can be provided to authenticate the transaction post credit limit exceed.  | [FD-Conf-SI-DP-0002](Sales Invoice Creation#FD-Conf-SI-DP-0002) |
|Option 2 -Disable ALERT for billing for Salesman level Credit Norm Violation | Allow Invoice if Salesman level credit norm settings are violated | Disable pop-up for credit limit exceed validation.  | [FD-Conf-SI-DP-0003](Sales Invoice Creation#FD-Conf-SI-DP-0003) |
|Allow Invoice if Customer level credit norm settings are violated |  | When this setting is ON then system allows to continue the sales invoice even if customer exceeds the credit limit  like credit amount , days, no. of bills | [FD-Conf-SI-DP-0004](Sales Invoice Creation#FD-Conf-SI-DP-0004) |
|Option1 -Seek password for billing for customer level credit norm violation | Allow billing if customer level credit norm settings are violated | Set password to seek while validation is violated. Password can be provided to authenticate the transaction post credit limit exceed | [FD-Conf-SI-DP-0005](Sales Invoice Creation#FD-Conf-SI-DP-0005) |
|Option 2 -Disable ALERT for billing for Customer level Credit Norm Violation | Allow billing if customer level credit norm settings are violated | Disable pop-up for customer credit limit exceed | [FD-Conf-SI-DP-0006](Sales Invoice Creation#FD-Conf-SI-DP-0006) |
|Seek password for Sales Invoice Amendment configuration |  | Password can be set for invoice amendment save | [FD-Conf-SI-DP-0007](Sales Invoice Creation#FD-Conf-SI-DP-0007) |
|Seek password for Sales Invoice cancellation configuration |  | Password can be set for invoice cancellation save | [FD-Conf-SI-DP-0008](Sales Invoice Creation#FD-Conf-SI-DP-0008) |
|Ask for password to authenticate the approver |  | Seek password during any approval of Sales Invoice transaction | [FD-Conf-SI-DP-0009](Sales Invoice Creation#FD-Conf-SI-DP-0009) |



### Round- off Configuration
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Quantity: Align to decimals  |  | Apply the decimal rule in all quantity field of application | [FD-Conf-Decimal-DP-0001](Sales Invoice Creation#FD-Conf-Decimal-DP-0001) |
|Amount: Align to decimals  |  | Apply the decimal rule in all value/amount field of application | [FD-Conf-Decimal-DP-0002](Sales Invoice Creation#FD-Conf-Decimal-DP-0002) |
|Print Quantity: Align to decimals  |  | Apply the decimal rule in all quantity field of application print | [FD-Conf-Decimal-DP-0003](Sales Invoice Creation#FD-Conf-Decimal-DP-0003) |
|Print Amount: Align to decimals  |  | Apply the decimal rule in all value/amount field of application print | [FD-Conf-Decimal-DP-0004](Sales Invoice Creation#FD-Conf-Decimal-DP-0004) |
|Allow Decimal Quantity Transaction for SO and SI (Base UOM)  |  | Apply the decimal rule in base UOM quantity field of SI & SO (Base UOM) | [FD-Conf-Decimal-DP-0005](Sales Invoice Creation#FD-Conf-Decimal-DP-0005) |
|Allow Decimal Quantity Transaction for SO, SI and SR (All UOM)  |  | Apply the decimal rule in quantity field of SI, SR & SO (All UOM) | [FD-Conf-Decimal-DP-0006](Sales Invoice Creation#FD-Conf-Decimal-DP-0006) |



### Round- off Configuration by Distributor
| Configuration                                                                | Related Configuration | Details                                                                         | Ref #                                                     |
|------------------------------------------------------------------------------|-----------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------|
|Quantity: Align to decimals  |  | Apply the decimal rule in all quantity field of application | [FD-Conf-Decimal-0001](Sales Invoice Creation#FD-Conf-Decimal-0001) |
|Amount: Align to decimals  |  | Apply the decimal rule in all value/amount field of application | [FD-Conf-Decimal-0001](Sales Invoice Creation#FD-Conf-Decimal-0001) |
|Print Quantity: Align to decimals  |  | Apply the decimal rule in all quantity field of application print | [FD-Conf-Decimal-0001](Sales Invoice Creation#FD-Conf-Decimal-0001) |
|Print Amount: Align to decimals  |  | Apply the decimal rule in all value/amount field of application print | [FD-Conf-Decimal-0001](Sales Invoice Creation#FD-Conf-Decimal-0001) |
|Allow Decimal Quantity Transaction for SO and SI (Base UOM)  |  | Apply the decimal rule in base UOM quantity field of SI & SO (Base UOM) | [FD-Conf-Decimal-0001](Sales Invoice Creation#FD-Conf-Decimal-0001) |
|Allow Decimal Quantity Transaction for SO, SI and SR (All UOM)  |  | Apply the decimal rule in quantity field of SI, SR & SO (All UOM) | [FD-Conf-Decimal-0001](Sales Invoice Creation#FD-Conf-Decimal-0001) |


# Business Rule & Impact 

> Business rules are listed in the below section which requires Domain understanding, hope the previous sections of the Sales invoice are clear. Refer [Sales Invoice](Sales Invoice), [Sales Invoice Creation](#creation-of-sales-invoice)   

1. [FD-BR-SI-0001] - User access 

>  FD-BR-SI-0001

    1. Login user should has association with a Distributor. 
    1. In case of user associated with multiple user, then distributor selection is require before creating sales invoice transaction 
    1. User with profile access configurations are to be applied while Listing Sales Invoice, Create, Modify, View Sales invoice

    > Refer User profile, Distributor User, Corporate User Distributor mapping 

2. [FD-BR-SI-0002](FD-BR-SI-0002) - List view of Sales Invoice
    1. Listing page is default landing page, where newly created Sales invoice are listed with selected information.
    1. All listing page related features are to be available for Sales Invoice listing Page. 
    1. Retrieve recently created top `20` Sales invoice document with selected field where it belongs to a Distributor and sort with invoice date. Default filter for Sales invoice applicable for all users. 
    1. Custom filter to be available for all modules
    1. Default list view fields for distributor users  
        - "transactionNumber" 
        - "invoiceDate" 
        - "reference1Manual" 
        - "uniqueRetailerCode" 
        - "customername" 
        - "salesmanName" 
        - "beatname" 
        - "godownName" 
        - "buyerStatename" 
        - "sellerStatename" 
        - "invoiceAmount" 
        - "invoiceOutstanding" 
        - "status"
        - "nextStageName"
        - "modifiedon" 

       In default list view of users associated with multiple Distributors, 
       add `Distributor Name` fields. 

    > Refer [Listing page](Listing Page) functionalities, [Custom Filter](Custom Filter).

3. [FD-BR-SI-0003](FD-BR-SI-0003) - Detail view actions
    1. Detail view of Invoice record enables you to perform actions like editing, cancel, amend, print the existing record in PDF format, all actions are configured through [Workflow](Workflow). 
    1. From the Invoices list view, select the desired record. Details view of invoice record should follow the Field access rule for the login user related profile. 

4. [FD-BR-SI-0004](FD-BR-SI-0004) - Create Sales Invoice
    1. Allow creation of Sales invoice based on Profile access configuration. 
    1. User Distributor association is mandatory for creating transaction. 
    1. Corporate User are indirect users create transaction related to specific associated distributor. 
    1. Creation of Sales Invoice should be restricted to user without distributor association. 

5. [FD-BR-SI-0005](FD-BR-SI-0005) -Selection of Beat
    1. Listing of Beat for **Selection list** in transaction, criteria to be   
       - Distributor related Beat with status as per configuration 
       - Apply configuration impact [FD-Conf-MAS-SI-0002](Sales Invoice Creation#FD-Conf-MAS-SI-0002)

6. [FD-BR-SI-0006](FD-BR-SI-0006) -Customer Selection 
    1. Listing of Customer for **Selection list** in transaction, criteria to be   
       - Distributor related customer, with status as per configuration 
       - Apply the credit norm of the selected customer [FD-Conf-MAS-SI-0005](Sales Invoice Creation#FD-Conf-MAS-SI-0005)

    2. Invocing for Unapproved Customer 
       - Distributor related Unapproved customer, with status as per configuration 
       - Apply the default credit norm of the selected customer 
       - Apply configuration impact [FD-Conf-MAS-SI-0007](Sales Invoice Creation#FD-Conf-MAS-SI-0007)
        
    3. Customer can be selected in any one of the following ways
      - Direct customer selection
      - Customer selection post Salesman selection
      - Customer selection post Salesman and Beat selection
     In all the above scenarios Customer, Beat and Salesman mapping is must.  

7. [FD-BR-SI-0007](FD-BR-SI-0007) -GSTIN Thershold validation
     - Setting up validation on thershold for GSTIN code setup 
     - Apply configuration impact [FD-Conf-MAS-SI-0003](Sales Invoice Creation#FD-Conf-MAS-SI-0003)

8. [FD-BR-SI-0008](FD-BR-SI-0008) -Invoice cancellation Time period
    - Setup limit days on invoice to be cancelled [FD-Conf-MAS-SI-0009](Sales Invoice Creation#FD-Conf-MAS-SI-0009)
    
9. [FD-BR-SI-0009](FD-BR-SI-0009) -Scheme View Hide 
      -Viewing of Scheme will be enabled / disabled based on configuration impact [FD-Conf-MAS-SI-0012](Sales Invoice Creation#FD-Conf-MAS-SI-0012)

10. [FD-BR-SI-0010](FD-BR-SI-0010)-Net PTR capping 
      -Enable provision to edit Net PTR price before completing the Invoice 

11. [FD-BR-SI-0011](FD-BR-SI-0011)-Scheme product Deletion
      -Apply the configuration to allow/delete the scheme product [FD-Conf-MAS-SI-0030](Sales Invoice Creation#FD-Conf-MAS-SI-0030)
  
12. [FD-BR-SI-0012](FD-BR-SI-0012)-Restrict viewing of Shipping & Handling charges 
        -Apply the configuration to allow/hide the shipping & handling charges[FD-Conf-MAS-SI-0033](Sales Invoice Creation#FD-Conf-MAS-SI-0033)

13. [FD-BR-SI-0013](FD-BR-SI-0013]-Setup Salesman Credit Limit 
      -Apply the configuration to allow/restrict the salesman credit limit [FD-Conf-MAS-SI-0044](Sales Invoice Creation#FD-Conf-MAS-SI-0044)

14. [FD-BR-SI-0014](FD-BR-SI-0014)-Transaction Series Yearly Reset Date
       -Apply the configuration to allow/restrict the Invoice transaction series based on MTD [FD-Conf-MAS-SI-0057](Sales Invoice Creation#FD-Conf-MAS-SI-0057)
   
15. [FD-BR-SI-0015](FD-BR-SI-0015)-Apply Scheme Same as SO
       -Apply the configuration to allow/restrict the SO scheme to get applied on SI [FD-Conf-MAS-SI-0060](Sales Invoice Creation#FD-Conf-MAS-SI-0060)

16. [FD-BR-SI-0016](FD-BR-SI-0016)-Disable direct sales invoice creation
       -Apply the configuration to allow/Disable direct sales invoice creation in distributor portal [FD-Conf-MAS-SI-0063](Sales Invoice Creation#FD-Conf-MAS-SI-0063)

### Counter Sales related rule

17. [FD-BR-SI-0017](FD-BR-SI-0017)-Option to issue free product manually
       -Apply the configuration to allow/Disable Issuing of Free product during Counter sale creation in distributor portal) [FD-Conf-Countersale-SI-0006](Sales Invoice Creation#FD-Conf-Countersale-SI-0006)

18. [FD-BR-SI-0018](FD-BR-SI-0018)-Customer TIN number Validation
       -Apply the configuration to Validate Walk-In customer TIN number against the existing customers TIN number in distributor portal and generate the Alert) [FD-Conf-Countersale-SI-0007](Sales Invoice Creation#FD-Conf-Countersale-SI-0007)

19. [FD-BR-SI-0019](FD-BR-SI-0019)-Customer Mobile number Validation
       -Apply the configuration to Validate Walk-In customer Mobile number against the existing customers Mobile number in distributor portal and generate the Alert) [FD-Conf-Countersale-SI-0008](Sales Invoice Creation#FD-Conf-Countersale-SI-0008)


## Rate calculation 
1. **Sale Price** is shown in any of the following ways.
    - PTR value stored in Batch
    - Special price defined for the customer channel and GST registration status. 
    - When Bill at latest price is enabled for the item in the item master then latest Base Price is always considered until Special price is  defined for the item. 
    - User can override the rate based on settings

2. **UOM** can be selected as **Base UOM**, **UOM 1**, **UOM 2** ...,**UOM 7**
    - For this sample, Base UOM, UOM 1 & UOM 2 are only considered. 

    - **Sample Product UOM conversion & Rate** _Product Atta 2 KG_
 
| UOM Type | UOM | Conversion Factor | Batch Rate | Special Price | Base Price |
| ------ | ------ | ------ | ------ | ------ | ------ | 
| Base UOM | KG | 1 | 44.41 | 40 | 44.60 |
| UOM 1 | CFC | 30 | 1332.30 | 1200 | 1338 |
| UOM 2 | PAC | 2 | 88.82 | 80 | 89.2 |

3. **Tax**
    - **Sample Product Tax** _Product Atta 2 KG_

| Tax Component  | Tax %  |
|----------------|--------|
| SGST           | 2.50%  |
| CGST           | 2.50%  |

4. **Sample Calculation**

| Detail Field                         | Description & Calculation Formula                                                                           |
|--------------------------------------|-------------------------------------------------------------------------------------------------------------|
| Item Name                            | User can select the product by Item Code or Name                                                            |
| Batch                                | By default first batch is selected. Batch is listed on FIFO logic                                           |
| UOM                                  | Default Sales UOM is selected initially. User can change if required by shortcut also or manually change it |
| Sale Price                           | PTR of the item is shown. PTR is considered based on the Margin or Channel Wise Margin or Quotation         |
| Net Rate                             | Sale Price of item + Tax Amount is calculated for 1 quantity and shown.                                     |
| Quantity                             | User can enter quantity. Quantity entered is considered as per UOM selected                                 |
| Amount                               | Quantity * Sale Price is calculated and shown                                                               |
| Discount%                            | Manual discount percentage                                                                                  |
| Discount Amount                      | Discount Amount is shown                                                                                    |
| Scheme Discount%                     | Scheme Discount % is shown. For Amount scheme also, Discount % is also calculated and shown                 |
| Scheme Amount                        | Scheme Amount is shown.  Even for % Scheme, Discount Amount is calculated and shown                         |
| Net Amount (Taxable)                 | Taxable net amount. Amount - (Scheme Amount + Discount Amount). Based on configuration this formula varies |
| Tax Amount (Tax Split up also shown) | Tax Amount calculated on Net Amount is calculated & Shown                                                   |
| Net Tax Amount                       | Tax amount deducted on proposition from Additional Discount given in Invoice is shown here                  |
| Type                                 | Always Second Sales                                                                                         |
| Total                                | Net Amount + Tax Amount is calculated & Shown                                                               |
| Scheme Discount (Invoice Level)      | Invoice level Scheme Discount is propositioned item level and shown                                         |
| Trade Discount (Invoice Level)       | Invoice level Trade Discount amount is proportioned item level and shown                                    |
| Net Amount                           | Total - (Trade Discount + Scheme Discount) is calculated and shown                                          |

  - Sale Price : PTR of the item
  - Net Rate : Sale Price of item + Tax Amount is calculated for 1 quantity and shown.
  - Amount : (Quantity * Sale Price)
  - Discount Amount : Amount * Discount% or Direct amount given by end user
  - Scheme Amount : Amount * Scheme Discount% or Scheme Amount As per definition of scheme. 
  - Net Amount (Taxable) : Amount - (Scheme Amount + Discount Amount) 
> Based on configuration, `Net Amount (Taxable)` varies. 
  - Tax Amount : Net Amount (Taxable) * Tax % `Calculate for each component of Tax`
  - Total : Net Amount (Taxable) + Tax Amount
  - Net Amount : Total - (Trade Discount + Scheme Discount)


| Product   | Quantity | UOM | Rate  | Amount | Scheme Discount | Discount | Tax   | Net Rate | Net Amount |
|-----------|----------|-----|-------|--------|-----------------|----------|-------|----------|------------|

    - Base UOM without discount 

| Product   | Quantity | UOM | Rate  | Amount | Scheme Discount | Discount | Tax   | Net Rate | Net Amount |
|-----------|----------|-----|-------|--------|-----------------|----------|-------|----------|------------|
| Atta 2 KG | 2        | KG  | 44.41 | 88.82  | 0               | 0        | 4.441 | 46.6305  | 93.261     |

    - Base UOM - with Scheme and Other discount

 | Product   | Quantity | UOM | Rate  | Amount | Scheme Discount | Discount | Tax   | Net Rate | Net Amount |
|-----------|----------|-----|-------|--------|-----------------|----------|-------|----------|------------|
| Atta 2 KG | 2        | KG  | 44.41 | 88.82  | 5               | 2        | 4.091 | 42.9555  | 85.911     |

    - UOM1 - without discount
| Product   | Quantity | UOM | Rate   | Amount | Scheme Discount | Discount | Tax    | Net Rate | Net Amount |
|-----------|----------|-----|--------|--------|-----------------|----------|--------|----------|------------|
| Atta 2 KG | 2        | CFC | 1332.3 | 2664.6 | 0               | 0        | 133.23 | 1398.915 | 2797.83    |

    - UOM 1- with Scheme and Other discount
| Product   | Quantity | UOM | Rate   | Amount | Scheme Discount | Discount | Tax    | Net Rate | Net Amount |
|-----------|----------|-----|--------|--------|-----------------|----------|--------|----------|------------|
| Atta 2 KG | 2        | CFC | 1332.3 | 2664.6 | 5               | 2        | 132.88 | 1395.24  | 2790.48    |
    - When Net Rate is changed (Base UOM - without discount)
| Product   | Quantity | UOM | Rate  | Amount | Scheme Discount | Discount | Tax  | Net Rate | Net Amount |
|-----------|----------|-----|-------|--------|-----------------|----------|------|----------|------------|
| Atta 2 KG | 2        | KG  | 42.86 | 85.71  | 0               | 0        | 4.29 | 45       | 90         |

    - When Net Rate is changed (Base UOM - with discount)

| Product   | Quantity | UOM | Rate  | Amount | Scheme Discount | Discount | Tax  | Net Rate | Net Amount |
|-----------|----------|-----|-------|--------|-----------------|----------|------|----------|------------|
| Atta 2 KG | 2        | KG  | 98.74 | 197.48 | 5               | 2        | 9.52 | 100      | 200        |


## Scheme 
  - Sales Invoice are applied with respective scheme as defined or applicable. 
  - Applicable scheme are based on various criteria's like Product, Product category, Customer, Customer Type, Channel Type, Distributor, Distributor Cluster, Geo hierarchy, Mode of payment, ..etc. Refer [Scheme master](Scheme) for types of scheme. 
  - Different types of Scheme applies, some of the most used Scheme Type as below, 
    - Item by Quantity
    - Item by Value
    - Item By Qty - Lines cut 
    - `SMJ Pending - Add invoice level scheme types`
  - Gross Amount : (Quantity * Sale Price)
  - Gross Amount with tax : (Quantity * Rate + Tax)
  - After Manual Discount : ((Quantity * Rate - line level Addl. Discount)
  - After Manual Discount with tax : ((Quantity * Rate - line level Addl. Discount+ Tax)
  - **On-Take Scheme** are applied while preparing the Sales invoice. 
  - **Off-Take Scheme** benefits are applied as per the pending benefit list as applicable for the selected customer. 
  - Sales invoice scheme benefits are [computed](Scheme engine) and applied.  
  
## Tax 
  - Tax Components can be
    - 1. State Tax
    - 2. Central Tax
    - 3. Inter-state Tax
    - 4. Cess
    - 5. Cess on Quantity
    - 6. Cess applicable for the particular state
  - Tax applicable for the product, related geo hierarchy of distributor, [State](State) of distributor, [State](State) of Customer, Tax identifier details of customer, Tax form applied for the customer.
  - Multiple Tax are applicable for an item based on tax definition. All relevant tax details with split-up percentage to be available in Sales invoice document. 
  - Accurate calculation of tax amount is main criteria of Sales invoice document.



# See also .. 
  - [Sales Invoice](Sales Invoice)
  - [Sales Invoice Configurations](Sales Invoice Configurations)
  - [Domain Object Sales Invoice](Domain Object Sales Invoice)
  - [Home](Home)

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTIwMTYyMTkzMTNdfQ==
-->
